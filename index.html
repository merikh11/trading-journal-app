<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="theme-color" content="#007AFF">
<title>ژورنال ترید</title>
<link rel="manifest" href="manifest.json">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
background: #1a1a1a; 
color: #e4e4e7; 
min-height: 100vh; 
}
.container { max-width: 1200px; margin: 0 auto; padding: 20px; }
.header { background: #007AFF; color: white; padding: 20px; border-radius: 12px; margin-bottom: 20px; }
.header h1 { font-size: 28px; margin-bottom: 10px; }
.header p { opacity: 0.9; }
.nav { display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap; }
.nav button { 
padding: 12px 20px; 
border: none; 
border-radius: 8px; 
background: #2a2a2a; 
color: white; 
cursor: pointer; 
transition: all 0.3s;
}
.nav button.active, .nav button:hover { background: #007AFF; }
.stats { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 30px; }
.stat-card { 
background: #2a2a2a; 
padding: 20px; 
border-radius: 12px; 
text-align: center;
}
.stat-value { font-size: 24px; font-weight: bold; margin: 10px 0; }
.stat-label { color: #a1a1aa; }
.profit { color: #10B981; }
.loss { color: #F43F5E; }
.form { 
background: #2a2a2a; 
padding: 30px; 
border-radius: 12px; 
margin-bottom: 20px; 
}
.form-group { margin-bottom: 20px; }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
.form label { display: block; margin-bottom: 8px; color: #e4e4e7; }
.form input, .form select, .form textarea { 
width: 100%; 
padding: 12px; 
border: 1px solid #404040; 
border-radius: 8px; 
background: #1a1a1a; 
color: white; 
}
.form input:focus, .form select:focus, .form textarea:focus { 
border-color: #007AFF; 
outline: none; 
}
.btn { 
padding: 12px 24px; 
border: none; 
border-radius: 8px; 
cursor: pointer; 
font-size: 16px;
transition: all 0.3s;
}
.btn-primary { background: #007AFF; color: white; }
.btn-primary:hover { background: #0056B3; }
.btn-secondary { background: #404040; color: white; }
.btn-secondary:hover { background: #525252; }
.trades-list { display: grid; gap: 15px; }
.trade-card { 
background: #2a2a2a; 
padding: 20px; 
border-radius: 12px; 
display: grid;
grid-template-columns: 1fr auto;
gap: 15px;
align-items: center;
}
.trade-info h3 { margin-bottom: 5px; }
.trade-details { color: #a1a1aa; font-size: 14px; }
.trade-pl { 
text-align: right;
font-size: 18px;
font-weight: bold;
}
.view { display: none; }
.view.active { display: block; }
.hidden { display: none !important; }
.toast { 
position: fixed; 
top: 20px; 
right: 20px; 
background: #007AFF; 
color: white; 
padding: 15px 20px; 
border-radius: 8px; 
z-index: 1000;
animation: slideIn 0.3s ease;
}
@keyframes slideIn { from { transform: translateX(100%); } to { transform: translateX(0); } }
.actions { display: flex; gap: 10px; }
.chart-container { 
background: #2a2a2a; 
padding: 20px; 
border-radius: 12px; 
margin-bottom: 20px;
}
.empty-state { 
text-align: center; 
padding: 40px; 
color: #71717a; 
}
@media (max-width: 768px) {
.form-row { grid-template-columns: 1fr; }
.nav { flex-direction: column; }
.trade-card { grid-template-columns: 1fr; text-align: center; }
.trade-pl { text-align: center; }
}
</style>
</head>
<body>
<div class="container">
<div class="header">
<h1><i class="fas fa-chart-line"></i> ژورنال ترید</h1>
<p>ثبت و تحلیل معاملات خود را آغاز کنید</p>
</div>
<div class="nav">
<button class="active" onclick="showView('dashboard')">
<i class="fas fa-home"></i> داشبورد
</button>
<button onclick="showView('add-trade')">
<i class="fas fa-plus"></i> افزودن معامله
</button>
<button onclick="showView('trades')">
<i class="fas fa-list"></i> معاملات
</button>
<button onclick="showView('analytics')">
<i class="fas fa-chart-bar"></i> تحلیل
</button>
</div>
<!-- Dashboard View -->
<div id="dashboard-view" class="view active">
<div class="stats" id="stats-grid">
<div class="stat-card">
<div class="stat-label">سود/زیان کل</div>
<div class="stat-value" id="total-pl">$0.00</div>
</div>
<div class="stat-card">
<div class="stat-label">تعداد معاملات</div>
<div class="stat-value" id="total-trades">0</div>
</div>
<div class="stat-card">
<div class="stat-label">نرخ موفقیت</div>
<div class="stat-value" id="win-rate">0%</div>
</div>
<div class="stat-card">
<div class="stat-label">میانگین سود</div>
<div class="stat-value" id="avg-profit">$0.00</div>
</div>
</div>
<div class="chart-container">
<h3>آخرین معاملات</h3>
<div id="recent-trades" class="trades-list">
<div class="empty-state">
<i class="fas fa-chart-line" style="font-size: 48px; margin-bottom: 20px;"></i>
<p>هنوز هیچ معامله‌ای ثبت نشده است</p>
<button class="btn btn-primary" onclick="showView('add-trade')">اولین معامله را ثبت کنید</button>
</div>
</div>
</div>
</div>
<!-- Add Trade View -->
<div id="add-trade-view" class="view">
<div class="form">
<h2><i class="fas fa-plus"></i> افزودن معامله جدید</h2>
<form id="trade-form">
<div class="form-row">
<div class="form-group">
<label for="symbol">جفت ارز</label>
<input type="text" id="symbol" placeholder="مثال: EUR/USD" required>
</div>
<div class="form-group">
<label for="type">نوع معامله</label>
<select id="type" required>
<option value="buy">خرید (Buy)</option>
<option value="sell">فروش (Sell)</option>
</select>
</div>
</div>
<div class="form-row">
<div class="form-group">
<label for="size">حجم</label>
<input type="number" id="size" step="0.01" placeholder="0.1" required>
</div>
<div class="form-group">
<label for="entry">قیمت ورود</label>
<input type="number" id="entry" step="0.00001" placeholder="1.23456" required>
</div>
</div>
<div class="form-group">
<label for="exit">قیمت خروج</label>
<input type="number" id="exit" step="0.00001" placeholder="1.23567" required>
</div>
<div class="form-group">
<label for="notes">یادداشت</label>
<textarea id="notes" rows="3" placeholder="یادداشت‌های شما..."></textarea>
</div>
<div class="actions">
<button type="button" class="btn btn-secondary" onclick="showView('dashboard')">انصراف</button>
<button type="submit" class="btn btn-primary">ذخیره معامله</button>
</div>
</form>
</div>
</div>
<!-- Trades View -->
<div id="trades-view" class="view">
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
<h2><i class="fas fa-list"></i> لیست معاملات</h2>
<button class="btn btn-primary" onclick="showView('add-trade')">
<i class="fas fa-plus"></i> افزودن معامله
</button>
</div>
<div id="all-trades" class="trades-list">
<div class="empty-state">
<i class="fas fa-list" style="font-size: 48px; margin-bottom: 20px;"></i>
<p>هیچ معامله‌ای یافت نشد</p>
</div>
</div>
</div>
<!-- Analytics View -->
<div id="analytics-view" class="view">
<h2><i class="fas fa-chart-bar"></i> تحلیل و آمار</h2>
<div class="stats">
<div class="stat-card">
<div class="stat-label">برترین جفت ارز</div>
<div class="stat-value" id="best-pair">-</div>
</div>
<div class="stat-card">
<div class="stat-label">بیشترین سود</div>
<div class="stat-value profit" id="max-profit">$0.00</div>
</div>
<div class="stat-card">
<div class="stat-label">بیشترین زیان</div>
<div class="stat-value loss" id="max-loss">$0.00</div>
</div>
<div class="stat-card">
<div class="stat-label">معاملات سودآور</div>
<div class="stat-value" id="profitable-count">0</div>
</div>
</div>
<div class="chart-container">
<h3>توزیع سود و زیان</h3>
<p style="text-align: center; color: #71717a;">نمودار عملکرد شما</p>
</div>
</div>
</div>
<div id="toast-container"></div>
<script>
// App State
let trades = JSON.parse(localStorage.getItem('trades')) || [];
let currentView = 'dashboard';
// Initialize App
function initApp() {
updateStats();
renderTrades();
updateAnalytics();
}
// Navigation
function showView(viewName) {
// Hide all views
document.querySelectorAll('.view').forEach(view => {
view.classList.remove('active');
});
// Show selected view
const targetView = document.getElementById(`${viewName}-view`);
if (targetView) {
targetView.classList.add('active');
}
// Update navigation
document.querySelectorAll('.nav button').forEach(btn => {
btn.classList.remove('active');
});
const navBtn = document.querySelector(`[onclick="showView('${viewName}')"]`);
if (navBtn) {
navBtn.classList.add('active');
}
currentView = viewName;
}
// Add Trade
document.getElementById('trade-form').addEventListener('submit', function(e) {
e.preventDefault();
const trade = {
id: Date.now(),
symbol: document.getElementById('symbol').value,
type: document.getElementById('type').value,
size: parseFloat(document.getElementById('size').value),
entry: parseFloat(document.getElementById('entry').value),
exit: parseFloat(document.getElementById('exit').value),
notes: document.getElementById('notes').value,
date: new Date().toLocaleDateString('fa-IR')
};
// Calculate P&L
if (trade.type === 'buy') {
trade.pl = (trade.exit - trade.entry) * trade.size * 100000;
} else {
trade.pl = (trade.entry - trade.exit) * trade.size * 100000;
}
trades.unshift(trade);
localStorage.setItem('trades', JSON.stringify(trades));
// Reset form
this.reset();
// Show success message
showToast('معامله با موفقیت ثبت شد!', 'success');
// Navigate to dashboard
setTimeout(() => {
showView('dashboard');
updateStats();
renderTrades();
}, 1000);
});
// Update Statistics
function updateStats() {
const totalPL = trades.reduce((sum, trade) => sum + trade.pl, 0);
const totalTrades = trades.length;
const winningTrades = trades.filter(trade => trade.pl > 0).length;
const winRate = totalTrades > 0 ? (winningTrades / totalTrades * 100).toFixed(1) : 0;
const avgProfit = totalTrades > 0 ? totalPL / totalTrades : 0;
document.getElementById('total-pl').textContent = `$${totalPL.toFixed(2)}`;
document.getElementById('total-pl').className = `stat-value ${totalPL >= 0 ? 'profit' : 'loss'}`;
document.getElementById('total-trades').textContent = totalTrades;
document.getElementById('win-rate').textContent = `${winRate}%`;
document.getElementById('avg-profit').textContent = `$${avgProfit.toFixed(2)}`;
}
// Render Trades
function renderTrades() {
const container = document.getElementById('recent-trades');
if (trades.length === 0) {
container.innerHTML = `
<div class="empty-state">
<i class="fas fa-chart-line" style="font-size: 48px; margin-bottom: 20px;"></i>
<p>هنوز هیچ معامله‌ای ثبت نشده است</p>
<button class="btn btn-primary" onclick="showView('add-trade')">اولین معامله را ثبت کنید</button>
</div>
`;
return;
}
container.innerHTML = trades.slice(0, 5).map(trade => `
<div class="trade-card">
<div class="trade-info">
<h3>${trade.symbol} (${trade.type === 'buy' ? 'خرید' : 'فروش'})</h3>
<div class="trade-details">
حجم: ${trade.size} | ورود: ${trade.entry} | خروج: ${trade.exit} | ${trade.date}
</div>
</div>
<div class="trade-pl ${trade.pl >= 0 ? 'profit' : 'loss'}">
$${trade.pl.toFixed(2)}
</div>
</div>
`).join('');
// Update all trades view
const allTradesContainer = document.getElementById('all-trades');
if (allTradesContainer) {
allTradesContainer.innerHTML = trades.map(trade => `
<div class="trade-card">
<div class="trade-info">
<h3>${trade.symbol} (${trade.type === 'buy' ? 'خرید' : 'فروش'})</h3>
<div class="trade-details">
حجم: ${trade.size} | ورود: ${trade.entry} | خروج: ${trade.exit} | ${trade.date}
${trade.notes ? `<br><small>${trade.notes}</small>` : ''}
</div>
</div>
<div class="trade-pl ${trade.pl >= 0 ? 'profit' : 'loss'}">
$${trade.pl.toFixed(2)}
</div>
</div>
`).join('');
}
}
// Update Analytics
function updateAnalytics() {
if (trades.length === 0) {
document.getElementById('best-pair').textContent = '-';
document.getElementById('max-profit').textContent = '$0.00';
document.getElementById('max-loss').textContent = '$0.00';
document.getElementById('profitable-count').textContent = '0';
return;
}
// Best pair
const pairPerformance = {};
trades.forEach(trade => {
if (!pairPerformance[trade.symbol]) {
pairPerformance[trade.symbol] = { profit: 0, count: 0 };
}
pairPerformance[trade.symbol].profit += trade.pl;
pairPerformance[trade.symbol].count++;
});
const bestPair = Object.keys(pairPerformance).reduce((best, current) => {
return pairPerformance[current].profit > pairPerformance[best].profit ? current : best;
});
document.getElementById('best-pair').textContent = bestPair || '-';
// Max profit/loss
const profits = trades.map(trade => trade.pl);
document.getElementById('max-profit').textContent = `$${Math.max(...profits).toFixed(2)}`;
document.getElementById('max-loss').textContent = `$${Math.min(...profits).toFixed(2)}`;
// Profitable count
const profitableCount = trades.filter(trade => trade.pl > 0).length;
document.getElementById('profitable-count').textContent = profitableCount;
}
// Toast Notifications
function showToast(message, type = 'success') {
const toast = document.createElement('div');
toast.className = 'toast';
toast.style.background = type === 'success' ? '#10B981' : '#F43F5E';
toast.textContent = message;
document.getElementById('toast-container').appendChild(toast);
setTimeout(() => {
toast.remove();
}, 3000);
}
// Initialize on load
document.addEventListener('DOMContentLoaded', function() {
initApp();
});
</script>
</body>
</html>
